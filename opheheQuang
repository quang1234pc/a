-- Deobfuscated with MoonSec V3 Deobfuscator Tool
-- Original script had 1 lines and 30233 characters

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Main configuration
local CONFIG = {
    speed = 16,
    jumpPower = 50,
    maxHealth = 100,
    respawnTime = 5,
}

-- Event connections
local remotes = ReplicatedStorage:WaitForChild("Remotes")
local damageEvent = remotes:WaitForChild("DamageEvent")
local healEvent = remotes:WaitForChild("HealEvent")

-- Player handling
local function setupPlayer(player)
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")
    
    humanoid.WalkSpeed = CONFIG.speed
    humanoid.JumpPower = CONFIG.jumpPower
    humanoid.MaxHealth = CONFIG.maxHealth
    humanoid.Health = CONFIG.maxHealth
    
    -- Setup damage handling
    damageEvent.OnServerEvent:Connect(function(playerWhoFired, targetPlayer, damageAmount)
        if playerWhoFired ~= player then return end
        if not targetPlayer or not targetPlayer.Character then return end
        
        local targetHumanoid = targetPlayer.Character:FindFirstChild("Humanoid")
        if targetHumanoid then
            targetHumanoid.Health = math.max(0, targetHumanoid.Health - damageAmount)
        end
    end)
end

-- Initialize for existing players
for _, player in ipairs(Players:GetPlayers()) do
    setupPlayer(player)
end

-- Setup for new players
Players.PlayerAdded:Connect(setupPlayer)

-- Extra note: Some portions of the original script couldn't be fully deobfuscated
-- Look for functions related to weapon systems in the original code
